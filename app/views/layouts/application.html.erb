<!DOCTYPE html>
<html>
  <head>
    <title>App</title>
    <%= csrf_meta_tags %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body>

  <header>
    <div class="header-logo">
      <%= link_to('TweetApp', '/') %>
      <!--      <a href="/">TweetApp</a>-->
    </div>


    <% if @current_user %>
      <ul class="header-menus">
        <li>
           <%= link_to(@current_user.name, "/users/#{@current_user.id}")%>
        </li>
        <li>
          <%= link_to('投稿一覧', '/posts/index') %>
        </li>
        <li>
          <%= link_to('投稿する', '/posts/new') %>
        </li>
        <li>
          <%= link_to('ユーザー一覧', '/users/index')%>
        </li>
        <li>
          <%= link_to('ログアウト', '/logout', {method: "post"}) %>
        </li>
      </ul>
      <% else %>
        <ul class="header-menus">
          <li>
            <%= link_to('TravelAppとは', '/about') %>
          </li>
          <li>
            <%= link_to('新規登録', '/signup')%>
          </li>
          <li>
            <%= link_to('ログイン', '/login')%>
          </li>
        </ul>
    <% end %>
  </header>
<!--  フラッシュとはページ上に一度だけ表示されるメッセージ。フラッシュが表示された後、ページを更新したり別のページに移動したりすると、フラッシュは表示されなくなる-->
<!--  フラッシュメッセージが存在するときだけ、フラッシュメッセージを表示させる-->
  <% if flash[:notice] %>
    <div class="flash">
      <%= flash[:notice] %>
    </div>
  <% end %>

<!--  この上は、共通のレイアウトを記述。それ以外の各ビューファイルはyieldのなかに入る-->
    <%= yield %>
  </body>
</html>
